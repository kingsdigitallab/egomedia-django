{% load kdl_wagtail_core_tags wagtailcore_tags wagtailembeds_tags %}

<div class="embed">
    {% comment %}
        The `responsive-embed` div needs an extra class based on content type.
        Available classes in settings:
           default: 16 by 9,
           vertical: 9 by 16,
           panorama: 256 by 81,
           square: 1 by 1,
           audio: 160 by 80,
           fourbythree: 4 by 3
    {% endcomment %}
  <div class="responsive-embed">
    {% embed self.embed_block.url %}
  </div>

  {% if self.caption or self.attribution %}
  <p>{% include "kdl_wagtail_core/includes/caption_attribution.html" %}</p>
  {% endif %}

  {% include "kdl_wagtail_core/includes/description_transcription.html" %}
</div>