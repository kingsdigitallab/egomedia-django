{% load kdl_wagtail_core_tags wagtailcore_tags %}

{% if obj.description|wordcount > 2 or obj.transcription|wordcount > 2 %}
<div class="meta-toggler">

  {% if obj.description|wordcount > 2 %}
  <a data-open="{% get_object_id obj.description 'description' %}">
    <i class="fas fa-info-circle"></i>
  </a>
  {% endif %}

  {% if obj.transcription|wordcount > 2 %}
  <a data-open="{% get_object_id obj.transcription 'transcription' %}">
    <i class="fas fa-file-alt"></i>
  </a>
  {% endif %}
</div>

{% if obj.description|wordcount > 2 %}
<div class="description reveal large"
  id="{% get_object_id obj.description 'description' %}"
  data-multiple-opened="true" data-reveal>
  <div class="empty-heading">
    <button class="close-button" data-close aria-label="Close modal"
      type="button">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  
  {{ obj.description|richtext|krackdown }}
</div>
{% endif %}

{% if obj.transcription|wordcount > 2 %}
<div class="transcription reveal large"
  id="{% get_object_id obj.transcription 'transcription' %}"
  data-multiple-opened="true" data-reveal>

  <div class="empty-heading">
    <button class="close-button" data-close aria-label="Close modal"
      type="button">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>

  {{ obj.transcription|richtext|krackdown }}
</div>
{% endif %}

{% endif %}
