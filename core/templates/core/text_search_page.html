{% extends "base.html" %}
{% load staticfiles %}

{% block page-body %}
<div class="results">
</div>
{% endblock page-body %}

{% block footer_scripts %}
<script src="{% static 'lunr/lunr.min.js' %}"></script>
<script type="text/javascript">
  const docs = {{ docs | safe }}

  var index = lunr(function() {
    this.ref('id')
    this.field('title')
    this.field('content')
    this.field('url')

     this.metadataWhitelist = ['position']

    docs.forEach(function(doc) {
      this.add(doc)
    }, this)
  })
</script>
{% endblock footer_scripts %}
